var ua=window.navigator.userAgent.toLowerCase(),is_ie=/trident/gi.test(ua)||/msie/gi.test(ua);if(null!==document.querySelector(".filters__range-filter")){var scale=document.querySelector(".filters__scale"),bar=document.querySelector(".filters__bar"),minToggle=document.querySelector(".filters__toggle--min"),maxToggle=document.querySelector(".filters__toggle--max"),minResult=document.querySelector("[name=min-price]"),maxResult=document.querySelector("[name=max-price]"),scaleClientCoords=scale.getBoundingClientRect(),scaleCoords={};scaleCoords.left=scaleClientCoords.left+pageXOffset;var rightLimit=scale.offsetWidth-minToggle.offsetWidth/2;minToggle.onmousedown=function(){minToggle.ondragstart=function(){return!1};var a=minToggle.getBoundingClientRect();({}).left=a.left+pageXOffset,document.onmousemove=function(a){var b=a.pageX-scaleCoords.left;return 0>b&&(b=0),b>maxResult.value/1e4*rightLimit-minToggle.offsetWidth&&(b=maxResult.value/1e4*rightLimit-minToggle.offsetWidth),minToggle.style.left=b+"px",bar.style.left=b+"px",bar.style.width=maxResult.value/1e4*rightLimit-b+"px",minResult.value=Math.round(1e4*(b/rightLimit)),!1},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}},maxToggle.onmousedown=function(){maxToggle.ondragstart=function(){return!1};var a=maxToggle.getBoundingClientRect();({}).left=a.left+pageXOffset,document.onmousemove=function(a){var b=a.pageX-scaleCoords.left;return b<minResult.value/1e4*rightLimit+maxToggle.offsetWidth&&(b=minResult.value/1e4*rightLimit+maxToggle.offsetWidth),b>rightLimit&&(b=rightLimit),maxToggle.style.left=b+"px",bar.style.right=b-bar.offsetWidth+"px",bar.style.width=b-minResult.value/1e4*rightLimit+"px",maxResult.value=Math.round(1e4*(b/rightLimit)),!1},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}},minResult.onchange=function(){0>minResult.value&&(minResult.value=0),minResult.value>maxResult.value-1143&&(minResult.value=maxResult.value-1143),minToggle.style.left=minResult.value/1e4*rightLimit+"px",bar.style.left=minResult.value/1e4*rightLimit+"px",bar.style.width=maxResult.value/1e4*rightLimit-minResult.value/1e4*rightLimit+"px"},maxResult.onchange=function(){maxResult.value<+minResult.value+1143&&(maxResult.value=+minResult.value+1143),1e4<maxResult.value&&(maxResult.value=1e4),maxToggle.style.left=maxResult.value/1e4*rightLimit+"px",bar.style.left=minResult.value/1e4*rightLimit+"px",bar.style.width=maxResult.value/1e4*rightLimit-minResult.value/1e4*rightLimit+"px"}}var k=0;function nextGoodsSlide(a,b){for(var c=document.getElementsByClassName(a),d=document.getElementsByClassName(b),e=0;e<c.length;e++)c[e].classList.remove(a+"--active"),d[e].classList.remove(b+"--show");c[k].classList.add(a+"--active"),d[k].classList.add(b+"--show"),k++,k===c.length&&(k=0)}var l=0;function nextServicesSlide(a,b){for(var c=document.getElementsByClassName(a),d=document.getElementsByClassName(b),e=0;e<c.length;e++)c[e].classList.remove(a+"--active"),d[e].classList.remove(b+"--show");c[l].classList.add(a+"--active"),d[l].classList.add(b+"--show"),l++,l===c.length&&(l=0)}function switchSlide(a,b){var c=document.getElementsByClassName(a),d=document.getElementsByClassName(b);[].forEach.call(c,function(e,f,g){[].forEach.call(d,function(d,h,i){e.addEventListener("click",function(h){h.preventDefault(),d.classList.add(b+"--show"),e.classList.add(a+"--active");for(var k=0;k<c.length;k++)k!==f&&(i[k].classList.remove(b+"--show"),g[k].classList.remove(a+"--active"))})})})}if(null!==document.querySelector(".goods__slider-button")){var buttonGoodsClass="goods__slider-button",slideGoodsClass="goods__item";switchSlide(buttonGoodsClass,slideGoodsClass),setInterval(function(){nextGoodsSlide(buttonGoodsClass,slideGoodsClass)},1e4)}if(null!==document.querySelector(".services__slider-button")){var buttonServicesClass="services__slider-button",slideServicesClass="services__features-item";if(switchSlide(buttonServicesClass,slideServicesClass),setInterval(function(){nextServicesSlide(buttonServicesClass,slideServicesClass)},1e4),is_ie){var servicesList=document.querySelector(".services__slider-list");servicesList.style.width="410px"}}if(null!==document.querySelector(".modal-contact-us")){var nameStorage,emailStorage,modalWrapper=document.querySelector(".modal-wrapper"),openContactUs=document.querySelector(".contacts__button"),modalContactUs=document.querySelector(".modal-contact-us"),closeContactUs=modalContactUs.querySelector(".modal__close-button"),formContactUs=modalContactUs.querySelector(".modal-contact-us__form"),nameContactUs=formContactUs.querySelector("[name=name]"),emailContactUs=formContactUs.querySelector("[name=email]"),textContactUs=formContactUs.querySelector("[name=text]"),isStorageSupport=!0;try{nameStorage=localStorage.getItem("name"),emailStorage=localStorage.getItem("email")}catch(a){isStorageSupport=!1}nameContactUs.oninput=function(){nameContactUs.value&&nameContactUs.classList.remove("modal-contact-us__input--invalid")},emailContactUs.oninput=function(){emailContactUs.value&&emailContactUs.classList.remove("modal-contact-us__input--invalid")},textContactUs.oninput=function(){textContactUs.value&&textContactUs.classList.remove("modal-contact-us__textarea--invalid")},openContactUs.addEventListener("click",function(a){a.preventDefault(),modalWrapper.classList.add("modal-wrapper--show"),modalContactUs.classList.add("modal-contact-us--show"),nameStorage&&!emailStorage&&(nameContactUs.value=nameStorage,emailContactUs.focus()),emailStorage&&!nameStorage&&(emailContactUs.value=emailStorage,nameContactUs.focus()),nameStorage&&emailStorage&&(nameContactUs.value=nameStorage,emailContactUs.value=emailStorage,textContactUs.focus())}),closeContactUs.addEventListener("click",function(a){a.preventDefault(),modalWrapper.classList.remove("modal-wrapper--show"),modalContactUs.classList.remove("modal-contact-us--show"),modalContactUs.classList.remove("modal-contact-us--invalid")}),formContactUs.addEventListener("submit",function(a){nameContactUs.value&&emailContactUs.value&&textContactUs.value?isStorageSupport&&(localStorage.setItem("name",nameContactUs.value),localStorage.setItem("email",emailContactUs.value)):(a.preventDefault(),modalContactUs.classList.remove("modal-contact-us--invalid"),modalContactUs.offsetWidth=modalContactUs.offsetWidth,modalContactUs.classList.add("modal-contact-us--invalid")),nameContactUs.value||nameContactUs.classList.add("modal-contact-us__input--invalid"),emailContactUs.value||emailContactUs.classList.add("modal-contact-us__input--invalid"),textContactUs.value||textContactUs.classList.add("modal-contact-us__textarea--invalid")}),document.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),modalContactUs.classList.contains("modal-contact-us--show")&&(modalWrapper.classList.remove("modal-wrapper--show"),modalContactUs.classList.remove("modal-contact-us--show"),modalContactUs.classList.remove("modal-contact-us--invalid")))}),modalWrapper.addEventListener("click",function(a){a.preventDefault(),modalWrapper.classList.remove("modal-wrapper--show"),modalContactUs.classList.remove("modal-contact-us--show"),modalContactUs.classList.remove("modal-contact-us--invalid")})}if(null!==document.querySelector(".modal-map")){var openMap=document.querySelector(".contacts__map"),modalMap=document.querySelector(".modal-map"),closeMap=modalMap.querySelector(".modal__close-button");openMap.addEventListener("click",function(a){a.preventDefault(),modalWrapper.classList.add("modal-wrapper--show"),modalMap.classList.add("modal-map--show")}),closeMap.addEventListener("click",function(a){a.preventDefault(),modalWrapper.classList.remove("modal-wrapper--show"),modalMap.classList.remove("modal-map--show")}),document.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),modalMap.classList.contains("modal-map--show")&&(modalWrapper.classList.remove("modal-wrapper--show"),modalMap.classList.remove("modal-map--show")))}),modalWrapper.addEventListener("click",function(a){a.preventDefault(),modalWrapper.classList.remove("modal-wrapper--show"),modalMap.classList.remove("modal-map--show")})}if(null!==document.querySelector(".companies__list")){function a(a){var b=document.createElement("canvas"),c=b.getContext("2d"),d=a.width,e=a.height;b.width=d,b.height=e,c.drawImage(a,0,0);for(var f=c.getImageData(0,0,d,e),g=0;g<f.height;g++)for(var h=0;h<f.width;h++){var j=4*g*f.width+4*h,i=(f.data[j]+f.data[j+1]+f.data[j+2])/3;f.data[j]=i,f.data[j+1]=i,f.data[j+2]=i}return c.putImageData(f,0,0,0,0,f.width,f.height),b.toDataURL()}var companiesLogo,companiesLogos=document.querySelectorAll(".companies__item img");const b=[];for(var i=0;i<companiesLogos.length;i++)companiesLogo=companiesLogos[i],b[i]=companiesLogo.src;is_ie&&([].forEach.call(companiesLogos,function(b){b.src=a(b)}),[].forEach.call(b,function(b,c,d){[].forEach.call(companiesLogos,function(a,b){a.addEventListener("mouseover",function(){a.src=d[b]})}),[].forEach.call(companiesLogos,function(b){b.addEventListener("mouseout",function(){b.src=a(b)})})}))}
